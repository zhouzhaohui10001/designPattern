访问者模式笔记
参考文档：
     http://www.cnblogs.com/itTeacher/archive/2012/12/11/2813354.html
     http://ifeve.com/visitor-design-pattern-in-java-example-tutorial/
     http://blog.csdn.net/sidihuo/article/details/54892215
概述：
    访问者模式表示一个作用于某对象结构中的各元素的操作，它使你可以在不改变各元素类的前提下定义作用于这些元素的新操作。
    从定义可以看出结构对象是使用访问者模式的必备条件，而且这个结构对象必须存在遍历自身各个对象的方法，
    类似于Java中的Collection。
    访问者模式的目的是要把处理从数据结构中分离出来，如果系统有比较稳定的数据结构，又有易于变化的算法的话，
    使用访问者模式是个不错的选择，因为访问者模式使的算法操作的增加变得容易。相反，如果系统的数据结构不稳定，
    易于变化，则此系统就不适合使用访问者模式了。
大白话理解：
   　数据结构的每一个节点都可以接受一个访问者的调用，此节点向访问者对象传入节点对象，而访问者对象则反过来执行节点对象的操作。这样的过程叫做“双重分派”。
    节点调用访问者，将它自己传入，访问者则将某算法针对此节点执行
    重点理解访问者三个字 例如：医院开的方子，可以被划价员计算医药费，可以被药房抓药，。。。
    单子就是一个数据结构相对稳定的对象，而划价员，药房就是访问者 访问者对数据结构中的元素进行操作（如 阿莫西林2盒就是一个元素，划价员操作就是算钱，药房就是拿药）
角色：
   访问者角色(Visitor): 为该对象结构中具体元素角色声明一个访问操作接口.
   具体访问者角色(Concrete Visitor): 实现每个由访问者角色(Visitor)声明的操作.
   元素角色(Element): 定义一个Accept操作，它以一个访问者为参数.
   具体元素角色(Concrete Element): 实现由元素角色提供的Accept操作.
   对象结构角色(Object Structure): 这是使用访问者模式必备的角色. 它要具备以下特征: 能枚举它的元素;
   可以提供一个高层的接口以允许该访问者访问它的元素; 可以是一个复合(组合模式)或是一个集合, 如一个列表或一个无序集合.
类图：
     ![Image text](https://github.com/zhouzhaohui10001/designPattern/raw/master/images/visitor.png)
模式优缺点
       优点
          1、使得新增新的访问操作变得更加简单。
          2、能够使得用户在不修改现有类的层次结构下，定义该类层次结构的操作。
          3、将有关元素对象的访问行为集中到一个访问者对象中，而不是分散搞一个个的元素类中。
       缺点
          1、增加新的元素类很困难。在访问者模式中，每增加一个新的元素类都意味着要在抽象访问者角色中增加一个新的抽象操作，
              并在每一个具体访问者类中增加相应的具体操作，违背了“开闭原则”的要求。
          2、破坏封装。当采用访问者模式的时候，就会打破组合类的封装。
          3、比较难理解。貌似是最难的设计模式了。
       模式适用场景
          1、对象结构中对象对应的类很少改变，但经常需要在此对象结构上定义新的操作。
          2、需要对一个对象结构中的对象进行很多不同的并且不相关的操作，而需要避免让这些操作“污染”这些对象的类，
             也不希望在增加新操作时修改这些类。
  模式总结
        1、访问者模式封装了对象结构元素之上的操作，使得新增元素的操作变得非常简单。所以它比较适用于那么对象结构很少变化的类。
        2、访问者模式中对象结构存储了不同类型的元素对象，以供不同访问者访问。
  示例：医院开方子